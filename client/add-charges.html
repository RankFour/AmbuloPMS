<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/css/fonts.css">
    <link rel="stylesheet" href="/css/add-charges.css">
    <link rel="stylesheet" href="/css/navigationsAdmin.css">
    <title>Add Charges</title>
</head>
<body>
    <div class="overlay" id="overlay"></div>
    <div id="sidebarContainer"></div>
    <div id="navbarContainer"></div>

    <div class="main-content">
        <!-- Back Navigation -->
        <div class="back-btn">
            <button class="btn btn-secondary" onclick="window.history.back()" type="button">
                <i class="fas fa-arrow-left"></i> Back to Payments
            </button>
        </div>

        <!-- Main Form Container -->
        <div class="main-card-wrapper">
            <div class="header">
                <div>
                    <h2 class="section-title">
                        <i class="fas fa-plus-circle"></i>
                        Add Multiple Charges
                    </h2>
                    <p class="section-subtitle">Create single or multiple charges efficiently</p>
                </div>
            </div>

            <div class="form-content">
                <form id="multiple-charges-form">
                    <!-- Mode Toggle -->
                    <div class="mode-toggle">
                        <button type="button" class="mode-btn active" onclick="toggleMode('single')">
                            <i class="fas fa-file"></i> Single Charge
                        </button>
                        <button type="button" class="mode-btn" onclick="toggleMode('multiple')">
                            <i class="fas fa-files"></i> Multiple Charges
                        </button>
                    </div>

                    <!-- Bulk Actions (Hidden by default) -->
                    <div class="bulk-actions" id="bulk-actions" style="display: none;">
                        <div class="bulk-actions-title">
                            <i class="fas fa-magic"></i> Apply to All Charges
                        </div>
                        <div class="bulk-fields">
                            <div class="field-group">
                                <label class="field-label">Bulk Due Date</label>
                                <input type="date" class="field-input" id="bulk-due-date">
                            </div>
                            <div class="field-group">
                                <label class="field-label">Bulk Charge Date</label>
                                <input type="date" class="field-input" id="bulk-charge-date">
                            </div>
                            <div class="field-group">
                                <label class="field-label">Bulk Charge Type</label>
                                <select class="field-select" id="bulk-charge-type">
                                    <option value="">Select charge type...</option>
                                    <option value="rent">Monthly Rent</option>
                                    <option value="utilities">Utilities</option>
                                    <option value="maintenance">Maintenance Fee</option>
                                    <option value="parking">Parking Fee</option>
                                    <option value="late_fee">Late Payment Fee</option>
                                    <option value="security_deposit">Security Deposit</option>
                                    <option value="cleaning">Cleaning Fee</option>
                                    <option value="internet">Internet Fee</option>
                                    <option value="cable_tv">Cable TV</option>
                                    <option value="association_dues">Association Dues</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="field-group">
                                <label class="field-label">Bulk Amount</label>
                                <input type="number" class="field-input" id="bulk-amount" step="0.01" min="0" placeholder="0.00">
                            </div>
                        </div>
                        <button type="button" class="apply-bulk-btn" onclick="applyBulkSettings()">
                            <i class="fas fa-check"></i> Apply to All
                        </button>
                    </div>

                    <!-- Charges List -->
                    <div class="charges-list" id="charges-list">
                        <!-- Initial charge item will be added by JavaScript -->
                    </div>

                    <!-- Add Charge Button (Hidden in single mode) -->
                    <div class="add-charge-container" id="add-charge-container" style="display: none;">
                        <button type="button" class="add-charge-btn" onclick="addNewCharge()">
                            <i class="fas fa-plus"></i> Add Another Charge
                        </button>
                    </div>

                    <!-- Charges Summary -->
                    <div class="charges-summary" id="charges-summary" style="display: none;">
                        <div class="summary-title">
                            <i class="fas fa-chart-bar"></i> Summary
                        </div>
                        <div class="summary-stats">
                            <div class="stat-item">
                                <span class="stat-value" id="total-charges">0</span>
                                <span class="stat-label">Total Charges</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="total-amount">â‚±0.00</span>
                                <span class="stat-label">Total Amount</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="unique-tenants">0</span>
                                <span class="stat-label">Unique Tenants</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="recurring-charges">0</span>
                                <span class="stat-label">Recurring Charges</span>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="resetAllCharges()">
                            <i class="fas fa-undo"></i> Reset All
                        </button>
                        <button type="button" class="btn btn-warning" onclick="previewAllCharges()">
                            <i class="fas fa-eye"></i> Preview All
                        </button>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-plus"></i> <span id="submit-text">Add Charge</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <script src="/javascript/add-charges.js"></script>
    <script type="module" src="/javascript/navigationsAdmin.js"></script>
</body>
</html>